# ðŸ”– ITI - D0021 - C Sharp - Basics

## History before `C#`

- **C & C++** are high-level structured programming languages.
  - You can develop programs using those languages.
  - Then compile them to machine code using a compiler.
  - This machine code can be executed by the CPU.
  - This machine code is a binary code, which is a sequence of 0s and 1s.
  - This machine code is platform-dependent, which means it can't be executed on another platform.
  - Platform means the operating system and the hardware.
- **Java** is a high-level object-oriented programming language.
  - You can develop programs using Java.
  - Then compile them to byte code using a compiler.
  - This byte code can be executed by the JVM (Java Virtual Machine).
  - This byte code is a platform-independent code.
  - This byte code can be executed on any platform that has a JVM.
  - JVM is platform-dependent, which means it should be installed on the platform to execute the byte code.
  - `JAVA Philosophy`: Write Once, Run Anywhere.

## `C#` History

**C#** is a high-level object-oriented programming language.

- Developed by Microsoft.
- .Net Framework is a platform independent.
- `2002`: First version of .NET Framework.
  - Visual CPP
  - Visual C#, C# (80%)
  - J# (customized Java for .NET, deleted after from .NET)
  - F# (functional programming language)

## Compilation of `C#` Code

- Write the code using any text editor. (`.cs` files)
- Then compile the code using the `C#` compiler (`cs` compiler).
- The compiler will generate a intermediate language code (IL code) which will be packaged as a `.exe` or `.dll` file.
- This `.exe` or `.dll` file can be executed by the CLR (Common Language Runtime).
- To Run the `.exe` or `.dll` file, you need the .NET Framework installed on the machine, which is like the JVM for Java.

### Mono Project

- An open-source project that allows you to run `.NET` applications on different platforms like Linux, Mac, etc.
- Mono was always behind the .Net Framework, but now it is catching up with the .Net Framework.

## Running `C#` Code

- After compiling the code, you will get an `.exe` file which contains the IL code.
- The `.exe` file can be executed by the CLR (Common Language Runtime)
- CLR contains many components like:
  - `JIT` (Just-In-Time) compiler will compile the IL code to machine code.
  - Garbage Collector (GC) will manage the memory.
  - Exception Handling
  - Security
- Native code which will be compiled and generated by the JIT compiler will be cached in the memory, so if the same code is executed again, it will be executed faster.

> [!Note]
>
> - `CLR` is like the `JVM` for Java.
> - `CLR` can't be installed like the `JVM`, it is installed with the .NET Framework.

## Cross-Language Platform

- `IL` can be named as `CIL` (Common Intermediate Language) or `MSIL` (Microsoft Intermediate Language) or `Managed Code`.
- `Managed Code` which is generated by the different languages that are supported by the .Net Framework, like `C#`, `VB.NET`, `J#`, `F#`, etc. are the same IL code, which means if we have an `.exe` file generated by `C#` and another `.exe` file generated by `VB.NET`, both of them will have the same IL code.
- `CPP` in the .NET Framework is not a managed code, it is a native code, which means it is not platform-independent.

> [!Note]
>
> - Java is a platform-independent language.
> - .NET framework is a platform-independent and also cross-language platform (Multiple languages compiled to the same IL code).

### .Net Framework Components

- `CTS` (Common Type System): Int32, Int16, Int64, etc. are the same in all languages.
- `BCL` (Base Class Library): Contains classes like `System.Console`, `System.String`, etc.
- `CLS` (Common Language Specification): A set of rules that all languages should follow to be able to communicate with each other (i.e. to make the IL code generated by different languages compatible with each other).
- `CLR` (Common Language Runtime): Contains the JIT compiler, Garbage Collector, etc.

> [!Note]
>
> Converting the IL code back to the source code is possible and this process is called `Reverse Engineering` or `Reflection`.
> Can use a tool like `ILSpy` to convert the IL code back to the source code.
> To prevent this, you can use `Fuscation` which is a technique to make the code unreadable.

## .NET Core

- A new version of the `.NET Framework` which is totally cross-platform, i.e. supports windows, Linux, Mac, etc.
- `.NET Core` is open-source.
- `.NET Core` later called `.NET` (without the `Core`).
- `.NET Core` is a component-based, which mean you can install only the components that you need.
- Can install packages using `NuGet` package manager.

## GAC (Global Assembly Cache)

- A place where the shared assemblies are stored.
- Shared assemblies are the assemblies that can be used by multiple applications.
- GAC is a folder which maybe located in `C:\Windows\Assembly` or `C:\Windows\Microsoft.NET\Assembly`.
  - Will Contains the assemblies that are installed by the .NET Framework.
  - `GAC_32` and `GAC_64` folders are used to store the 32-bit and 64-bit assemblies.
  - `GAC_MSIL` folder is used to store the assemblies that are platform-independent.
- We can add our assemblies to the GAC, but we need to create a strong name key (`SNK`) for this assembly.

## ðŸ“ƒ Helping Resources

- [.Net Source Browser](https://source.dot.net/)
- [Microsoft Learn](https://learn.microsoft.com/en-us/training/)
- [Microsoft DevBlogs](https://devblogs.microsoft.com/)
